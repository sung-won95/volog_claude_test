# AI 보컬 코치 프로토타입

실시간 AI 보컬 코칭 시스템의 핵심 기능을 구현한 Python 프로토타입입니다.

## 🎯 주요 기능

### 1. 노래 분석
- **멜로디 추출**: 오디오에서 보컬 멜로디 라인 자동 추출
- **박자 감지**: 템포, 박자표, 마디 구분 자동 분석
- **구간 분할**: 3-4마디 단위의 연습 구간 자동 생성

### 2. 음성 분석 (4가지 핵심 요소)
- **음정 분석**: F0 추출, 정확도 및 안정성 평가
- **호흡 지지**: 음량 일관성, 지속성, 안정성 분석
- **발음 분석**: 스펙트럼 특징 기반 명료도 평가
- **성대 접촉**: Onset 분석, 음의 시작 품질 평가

### 3. 지능형 피드백
- **규칙 기반 시스템**: 발성학 지식 기반 구체적 피드백
- **개인화된 조언**: 약점 분석 후 맞춤형 연습 제안
- **시각적 비교**: 목표 vs 사용자 음성 그래프 제공

## 🚀 빠른 시작

### 설치

```bash
# 저장소 클론
git clone <repository-url>
cd ai-vocal-coach

# 의존성 설치
pip install -r requirements.txt
```

### 실행

```bash
python main.py
```

## 📁 프로젝트 구조

```
ai-vocal-coach/
├── main.py                    # 메인 실행 파일
├── requirements.txt           # 의존성 목록
├── README.md                 # 프로젝트 문서
└── vocal_coach/              # 메인 패키지
    ├── __init__.py
    ├── ai_vocal_coach.py     # 메인 코치 클래스
    ├── audio_processor.py    # 오디오 처리
    ├── melody_analyzer.py    # 멜로디 분석
    ├── beat_detector.py      # 박자 감지
    ├── section_divider.py    # 구간 분할
    ├── voice_recorder.py     # 음성 녹음
    ├── voice_analyzer.py     # 음성 분석
    └── feedback_engine.py    # 피드백 생성
```

## 🎵 사용 방법

### 1. 데모 모드 실행
```bash
python main.py
```

실제 음성 파일이 없어도 가상 데이터로 모든 기능을 체험할 수 있습니다.

### 2. 메뉴 선택
- **1번**: 연습 구간 목록 보기
- **2번**: 특정 구간 연습하기 (녹음 → 분석 → 피드백)
- **3번**: 전체 분석 결과 요약 보기

### 3. 연습 과정
1. 구간 선택
2. 목표 멜로디 확인
3. 녹음 진행 (카운트다운 후 자동 녹음)
4. 실시간 분석
5. 상세 피드백 및 개선 제안

## 🔧 기술 스택

### 핵심 라이브러리
- **librosa**: 오디오 분석 및 특징 추출
- **numpy/scipy**: 과학 계산
- **matplotlib**: 시각화
- **sounddevice**: 실시간 오디오 녹음

### 분석 알고리즘
- **피치 추출**: `librosa.piptrack()` 기반 F0 감지
- **박자 감지**: `librosa.beat.beat_track()` 활용
- **스펙트럼 분석**: STFT, MFCC, 스펙트럼 기울기
- **음질 평가**: HNR, Jitter/Shimmer 추정

## 📊 피드백 시스템

### 점수 체계
- **음정**: 정확도(60%) + 안정성(40%)
- **호흡**: 일관성(50%) + 지속성(50%)
- **발음**: 스펙트럼 명료도 기반
- **성대 접촉**: Onset 품질 평가

### 피드백 규칙 예시
```python
if 음정_정확도 < 0.6:
    "목표 멜로디를 다시 들어보고 천천히 따라해보세요."
    
if 호흡_일관성 < 0.6:
    "호흡을 더 꾸준히 유지해보세요. 복식호흡을 연습하세요."
    
if 성대접촉_품질 < 0.5:
    "음을 부드럽게 시작하는 연습을 해보세요."
```

## 🎯 주요 특징

### 1. 모듈식 설계
- 각 기능이 독립적인 클래스로 구현
- 쉬운 확장 및 유지보수
- 테스트 및 디버깅 용이

### 2. 실시간 처리
- 녹음과 동시에 분석 진행
- 즉시 피드백 제공
- 진행률 표시로 사용자 경험 개선

### 3. 교육학적 접근
- 단순 점수가 아닌 구체적 개선 방안 제시
- 난이도별 맞춤 피드백
- 격려와 동기부여 메시지

## 🔮 확장 계획

### 단기 개선사항
- [ ] 실제 마이크 입력 지원
- [ ] 더 정교한 멜로디 추출 알고리즘
- [ ] 가사-멜로디 동기화
- [ ] 웹 기반 인터페이스

### 장기 개선사항
- [ ] 딥러닝 기반 음성 품질 평가
- [ ] 개인화된 학습 모델
- [ ] 실시간 음원 분리 (Spleeter/Demucs)
- [ ] 감정 및 표현력 분석

## 🤝 기여 방법

1. Fork 프로젝트
2. Feature 브랜치 생성 (`git checkout -b feature/AmazingFeature`)
3. 변경사항 커밋 (`git commit -m 'Add some AmazingFeature'`)
4. 브랜치에 Push (`git push origin feature/AmazingFeature`)
5. Pull Request 생성

## 📝 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 자세한 내용은 `LICENSE` 파일을 참조하세요.

## 🙋‍♂️ 문의사항

프로젝트에 관한 질문이나 제안사항이 있으시면 이슈를 생성해주세요.

---

**⚠️ 주의사항**: 이 프로토타입은 교육 및 연구 목적으로 개발되었습니다. 상용 서비스로 사용하기 전에는 추가적인 최적화와 테스트가 필요합니다.
